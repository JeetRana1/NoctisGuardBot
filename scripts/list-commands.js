require('dotenv').config(); const { REST } = require('@discordjs/rest'); const { Routes } = require('discord-api-types/v10'); (async()=>{ const rest = new REST({ version: '10' }).setToken(process.env.DISCORD_TOKEN); const app = process.env.CLIENT_ID; const guilds = ['934267446980935690','1336111006644047964']; for(const g of guilds){ try{ const cmds = await rest.get(Routes.applicationGuildCommands(app,g)); console.log('\nGuild', g, 'total', cmds.length); const counts = {}; for(const c of cmds){ counts[c.name] = (counts[c.name]||0)+1; } console.log('Duplicates:', Object.entries(counts).filter(([k,v])=>v>1)); for(const c of cmds){ console.log('-', c.name, c.id); } } catch(e){ console.error('Failed to fetch for', g, e && e.message); }} const global = await rest.get(Routes.applicationCommands(app)); console.log('\nGlobal total', global.length, 'names:', global.map(c=>c.name)); })().catch(e=>console.error(e));